tempy.js
========

## 프로젝트 소개

Tempy는 한마디로 얘기하면 템플릿 엔진입니다. 필요한 기능만 구현된 최소화된 템플릿 엔진이 없을까하고 찾다가 에잉 그냥 공부도 할겸 만들어보자, 하고 시작된 프로젝트입니다.

Tempy만의 특징이라고 한다면.. 딱히 없습니다. 다른 템플릿 엔진보다 문법이 간결합니다. 그리고 템플릿 엔진내부에서 프로그래밍 하듯 쉽게 작성할 수 있습니다. 하나의 `{{ }}`안에서 쭉쭉 작성해나갈 수 있습니다.

## 사용법

웹에서는 물론 Node에서도 사용가능하도록 작성하였습니다. 예제를 참고하시면 됩니다. (example로 시작하는 파일들.)

`src/tempy.js`에는 tempy문법을 포함하고 있습니다. 어떤 프로세서로 돌아가는지 console.log로 출력하기 위해서 작성하였습니다. 물론 tempy문법 자체는 주석처리 되어서 자바스크립트로 사용할때는 해석되지 않습니다. :)

또한 `node build.js`를 통해서 빌드하게 되면 `build/tempy.js`, `build/tempy.min.js`에는 디버깅을 하기 위한 소스가 제거된 깔끔한 소스를 볼 수 있습니다.

## Tempy 문법

### 기본 문법

Tempy 소스는 `{{ }}`로 묶여있습니다. 그리고 그 안에는 하나의 코드를 포함하거나, 여러라인의 코드를 작성할 수 있습니다.

> example1.1. 기본문법 1

```
{{ = '안녕하세요' }}
{{ = '여러분' }}
```

이렇게 사용해도 되고,

> example1.2. 기본문법 2

```
{{
	= '안녕하세요'
	= '여러분'
}}
```

이렇게 사용해도 됩니다.

기본적으로 여러라인의 코드를 작성할 때는 반드시 `\n` 문자를 통해 구분해주어야 하지만 인라인으로 작성하고자 할 때는 세미콜론(;)을 통해 구분하여도 됩니다.

> example1.3. 기본문법 3

```
{{ = '안녕하세요'; = '여러분' }}
```

위와 같이 사용하는 것도 유효합니다.

### 주석

간단히 주석부터 설명드리자면, 다음과 같이 사용할 수 있습니다.

> example2.1. 기본 주석1

```
{{ -- 저는 주석이에요. }}
```

> example2.2. 기본 주석2

```
{{	
	-- 안녕하세요. 이 부분은 주석 처리됩니다.
	-- = "코드를 이렇게 주석처리 가능합니다"

	-- 이녀석은 foo를 출력하는 소스입니다.
}}
```

또한 주석은 기본적으로 보통 프로그래밍의 `//`와 유사하지만, 세미콜론(;)으로 종료할 시에는 `/* */`와 유사하게 사용이 가능합니다.

> example2.3. 묶인(?) 주석

```
{{
	-- 주석입니다. ; = '안녕하세요' -- 여기서 앞에 '안녕하세요'는 해석이 됩니다.
}}
```

###조건문

조건문의 경우 다음과 같이 사용할 수 있습니다.

> example3.1. 기본 조건문

```
{{
	-- if가 출력되는 예제
	? true
		= "이프문입니다, 이 문장은 출력됩니다.\n"
	:? true -- 여기서는 false를 해야하지만, 둘다 true일 경우 위에 것을 출력한다는 것을 보여주기 위해 작성해 보았습니다.
		= "출력x"
	:
		= "출력x"
	/

	-- else if가 출력되는 예제
	? false
		= "출력x"
	:? true
		= "엘스이프입니다, 이 문장은 출력됩니다.\n"
	:
		= "출력x"
	/

	-- else가 출력되는 예제
	? false
		= "출력x"
	:? false
		= "출력x"
	:
		= "엘스입니다, 이 문장은 출력됩니다.\n"
	/
}}
```

너무나 직관적이며 사용하기 쉽습니다. 꼭 위와같이 명령어처럼 사용해야하냐구요? 다음과 같이 사용하여도 같은 결과를 출력합니다. :)

> example3.2. 한줄 조건문

```
{{--if가 출력되는 예제;?true;="이프문입니다, 이 문장은 출력됩니다.\n";:?true--여기서는 false를 해야하지만, 둘다 true일 경우 위에 것을 출력한다는 것을 보여주기 위해 작성해 보았습니다.;="출력x";:;="출력x";/;--else if가 출력되는 예제;?false;="출력x";:?true;="엘스이프입니다, 이 문장은 출력됩니다.\n";:;="출력x";/;--else가 출력되는 예제;?false;="출력x";:?false;="출력x";:;="엘스입니다, 이 문장은 출력됩니다.\n";/}}
```

위에서도 한번 이야기 했듯, Tempy는 각 연산의 종료를 다음 줄로 넘기면 되지만, 한줄로 사용하여야 할 경우에는 모든 구문 마지막에 세미콜론(;)을 통해 구분을 합니다. 그리고 조건문에서도 마찬가지로 적용이 됩니다. :) 물론 위와같이 변태처럼 사용하는 경우는 드물겠지만요..

마찬가지로 조건문 안에 조건문, 즉 내부 조건문도 사용이 가능합니다.

> example3.3. 내부 조건문

```
{{
	? true
		? false
			= "출력x"
		:? true
			= "내부 조건문입니다.\n"
		:
			= "출력x"
		/
	:? true
		= "출력x."
	:
		= "출력x."
	/
}}
```

###반복문

다음 예제는 반복문에 관한 예제입니다. 반복문은 이터레이터 형태로만 사용할 수 있습니다.

> example4.1. 기본 반복문

```
{{
	@ bar -> item
		= item
		= "\n"
	/
}}
```

역시 너무나 쉽습니다. 좀더 간략하게 사용하려면 어떻게 해야할까요?

> example4.2. 한줄 반복문1

```
{{@bar->item}}{{=item}}
{{/}}
```

더 간략하게 사용하려면,

> example4.3. 한줄 반복문2

```
{{@bar->item;=item;="\n";/}}
```

그렇다면 이중 반복문도 사용가능할까요? 물론입니다.

> example4.4. 이중 반복문

```
{{
	@ baz -> items
		@ items -> item
			= item
			= "\n"
		/
		= "\n"
	/
}}
```

마찬가지로 한줄로 사용하여도 작동하는지 보겠습니다.

> example4.5. 이중 반복문 한줄 사용

```
{{@baz->items;@items->item;=item;="\n";/;="\n";/}}
```

조건문과 함께 사용해보도록 하겠습니다. 조건문 안에 반복문을 사용할 경우입니다.

> example4.6. 반복문과 조건문 동시 사용1

```
{{
	? true
		@ bar -> item
			= "조건문과 함께, "
			= item
			= "\n"
		/
	:? true
		= "출력x"
	:
		= "출력x"
	/
}}
```

위와 반대인, 반복문 안에 조건문을 사용한 경우입니다.

> example4.7. 반복문과 조건문 동시 사용2

```
{{
	@ qux -> item
		? item
			= "True이면..\n"
		:
			= "False이면..\n"
		/
	/
}}
```

모든 예제에 예제 번호를 적어두었는데 눈치 채셨나요? 해당 README파일은 example에서 바로 사용해서 결과를 확인해 볼 수 있습니다.

### To-do

- 반복문, {{ @items->idx:value }} 처럼 사용할 수 있게하기.
- 연산자, + - * / === 등 사용가능하게 하기.

### 참고자료

- [mustache.js](https://github.com/janl/mustache.js)
